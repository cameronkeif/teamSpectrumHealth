<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    @Scripts.Render("~/bundles/jquery")
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <div id="menu">
        <ul>
            <li class="leftMost">
                <a href="~/DrugEntriesList/" class="button">Home</a>
            </li>
            <li class="left">
                <a href="~/Admin/" class="button">Admin</a>
            </li>
                @{       
                    if(ViewData["Username"] == "Guest")
                    {
                        <li class="rightMost" id="loginRedir">
                        <a href="~/Login" class="button">Login</a>
                        </li>
                    }
                    else
                    {
                        <li class="rightMost">
                        <div id="userDisplay" class="button">Logout</div>
                        </li>
                    }
                }
            <li class="right">
                <div class="menuText">Welcome, @Html.Encode(ViewData["Username"])</div>
            </li>
        </ul>
    </div>
    <ul id="pageTitleBar">
        <li class="logo"><img src="~/images/logo.png"/></li>
        <li class="pageTitle">@Html.Encode(ViewData["PageTitle"])</li>
        <li class="search">
            @{
                if (ViewData["PageTitle"] == "Current Shortages" || ViewData["PageTitle"] == "All Shortages" || ViewData["PageTitle"] == "Pending Shortages") 
                {
                    <input type="search" placeholder="search"/>
                }
            }
        </li>
    </ul>
    <hr />
    <br />

    <ul id="adminMenu">
        <li>
            <a href="~/PendingShortagesList" id="pendingShortagesMenu" class="secondaryTitle">Pending Shortages</a>
        </li>
        <li class="left">
            <a href="~/DrugEntriesList/Upload" id="uploadMenu" class="secondaryTitle">Upload CSV</a>
        </li>
        <li class="left">
            <a href="~/ShortagesList" id="allShortagesMenu" class="secondaryTitle">All Shortages</a>
        </li>
        <li class="left">
            <a href="~/ShortagesList/Create" id="createMenu" class="secondaryTitle">Create Shortage</a>
        </li>
    </ul>
    <br />
    @RenderBody()

    @RenderSection("scripts", required: false)
</body>
</html>

<script>
    var str = @Html.Raw(Json.Encode(ViewData["PageTitle"])) + '';
    if (str == "Pending Shortages") {
        $("#pendingShortagesMenu").addClass("selected");
    }
    else if (str == "Upload Formulary") {
        $("#uploadMenu").addClass("selected");
    }
    else if (str == "All Shortages") {
        $("#allShortagesMenu").addClass("selected");
    }
    else if (str == "Create Shortage") {
        $("#createMenu").addClass("selected");
    }

    $("#adminMenu a").click(function () {
        $(this).parent().parent().find("a").removeClass("selected");
        $(this).addClass("selected");
    });
</script>